<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Claim Haircomb</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css"> <!-- Link to your styles.css file -->
</head>
<body onLoad="javascript:loadClaims()">
    <div class="header"></div>

    <div class="chart-container">
        <div class="data-above-chart">
        
            <!-- Comb Price -->
            <div class="comb-price">
                <div class="price-container">
                    <div class="comb-price-text">Comb Price:</div>
                    <span id="combPriceDollars">Loading...</span>
                </div>
            </div>

            <!-- Top Fee -->
            <div class="top-fee">
                <div class="circle-background">
                    <div class="top-fee-text">Top Fee:</div>
                    <span id="topFeeMBTC">Loading...</span><br>
                    <div id="topFeeAddr" class="p2wsh-address">Loading...</div><br>
                </div>
            </div>
        
            <div class="mempool-transactions-box">
                <div class="content-wrapper">
                <ul id="transactionList">
                    <!-- Updated list items for mem pool transactions with mock data -->
                    <li>Loading...</li>
                    <!-- ... more list items ... -->
                </ul>
            </div>
            </div>
        </div>
        <canvas id="myChart"></canvas>
    </div>
    
    
</div>
<!-- Include Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/min/moment.min.js"></script>


<script>
    // Initialize the chart with dynamic sizing and specific data intervals
    var ctx = document.getElementById('myChart').getContext('2d');
    var chart = new Chart(ctx, {
        type: 'scatter', // Use scatter for the dot chart
        data: {
            datasets: [{
                label: 'Top Fee',
                backgroundColor: '#c50f7e', // Change to pink for Top Fee dots
                borderColor: 'white', // Optional: change the border color if needed
                data: [],
                showLine: true, // Line connecting the dots
                pointRadius: 10, // Size of the points
                pointHoverRadius: 12, // Size when hovered
                fill: false // No fill under the line
            },{
                label: 'Random Fee',
                backgroundColor: '#ffffff', // Change to white for Random Fee dots
                borderColor: '#c50f7e', // Optional: change the border color if needed
                data: [],
                showLine: false, // No line connecting the dots
                pointRadius: 9, // Size of the points
                pointHoverRadius: 11, // Size when hovered
            }]
        },
        defaults: {
            elements: {
                line: {
                    backgroundColor: '#ffffff',
                    borderColor: '#ffffff'
                }
            },
        },
        options: {
            scales: {
                y: {
                    type: 'logarithmic',
                    beginAtZero: true,
                    suggestedMax: 100,
                    ticks: {
                        color: 'white',
                        font: {
                            size: 14,
                        },
                    },
                    grid: {
                        color: 'white',
                        lineWidth: 3,
                        drawBorder: true,
                    }
                },
                x: {
                    ticks: {
                        color: 'white',
                        callback: function(value, index, values) {
                            return moment(value).format('HH:mm');
                        },
                        font: {
                            size: 14,
                        },
                    },
                    grid: {
                        color: 'white',
                        lineWidth: 3,
                        drawBorder: true,
                    }
                }
            },
            plugins: {
                legend: {
                    labels: {
                        color: 'white', // This ensures the legend labels are white
                        usePointStyle: true,
                    }
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            var label = context.dataset.label || '';
                            if (label) {
                                label += ': ';
                            }
                            label += parseFloat(context.parsed.y).toFixed(3) + ' sats/vB';
                            return label;
                        }
                    }
                }
            },
            layout: {
                padding: {
                    top: 50,
                    right: 100,
                    bottom: 50,
                    left: 100
                }
            },
        }
    });
    
    chart.update();
    </script>
    


<script src="haircomb.js" defer></script>
<script src="claim.js" defer></script>
<footer></footer>
</body>
</html>
